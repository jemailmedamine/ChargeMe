<!-- owner-list.component.html -->

<h1>Moderator</h1> 

<!-- Votre formulaire de recherche et de filtrage ici -->
<div class="from-outline mt-3">
  <form>
    <input class="form-control" [(ngModel)]="login" list="datalistOptions" id="exampleDataList" name="exampleDataList" placeholder="Type to search..."
    style="width: 300px;height: 35px;border-radius: 50px;">
   
    <button type="button" (click)="filrage()"  class="btn btn-outline" style="height: 35px; border-radius: 50px;background-color: rgba(65.66, 187.93, 35.10, 0.50);">
      <i class="fa fa-filter" aria-hidden="true"></i> filter
    </button>
    <!-- <button type="button" class="btn btn-outline-create" routerLink="/create" style="border-radius: 50px;height: 35px;">
      <i class="fa fa-plus" aria-hidden="true"></i>create
    </button> -->
  </form>
</div>

<div class="table">
  <table class="table table-striped table-hover">
    <!-- En-têtes du tableau -->
    <thead>
      <!-- <thead> -->
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Phone number</th>
          <th scope="col">Login</th>
  
          <th scope="col">station</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <!-- Corps du tableau -->
      <tbody>
        <tr *ngFor="let mod of allmoderateur.moderateurs" >
          <td (click)="showDetails(mod)">{{  mod.firstname }} {{ mod.lastname}}</td>
          <td (click)="showDetails(mod)">{{ mod.phone}}</td>
          <td (click)="showDetails(mod)">{{ mod.login }}</td>
  
         <td (click)="showDetails(mod)">{{ mod.stationName}}</td>
        <td>
          <!-- <i class="fa fa-pencil" routerLink="/modify-moderator" aria-hidden="true" style="padding: 5px; color: grey;"></i> -->
          <i class="fa fa-trash"  (click)="openDeletePopup(mod.id)"  style="padding: 5px; color: grey;"></i>
        </td>
      </tr>
    </tbody>
  </table>

</div>
<nav aria-label="Page navigation example">
  <ul class="pagination justify-content-end" >
    <li class="page-item ">
     <!--<a class="page-link">Previous</a>-->
     <button class="page-link" (click)="Previous()">Previous</button>
    </li >
    <!--<li class="page-item"><a class="page-link" href="#">1</a></li>
    <li class="page-item"><a class="page-link" href="#">2</a></li>
    <li class="page-item"><a class="page-link" href="#">3</a></li>-->
    <li class="page-item">
      <!--<a class="page-link" href="#">Next</a>--> 
      <button class="page-link" (click)="next()">Next</button>
    </li>
  </ul>
</nav>
<!-- Popup pour les détails du propriétaire -->
<!-- <div class="popup-overlay" *ngIf="selectedmoderator" (click)="closePopup2($event)">
  <div class="moderator">
    <h2>Détails moderator</h2>
    <div>
      <p><strong>First name:</strong> {{ selectedmoderator.firstname }}</p>
      <p><strong>Last name:</strong> {{ selectedmoderator.lastname }}</p>
      <p><strong>Phone number:</strong> {{ selectedmoderator.phone }}</p>
      <p><strong>Station:</strong> {{ selectedmoderator.stationName }}</p>
      <p><strong>Email:</strong> {{ selectedmoderator.login }}</p>
      <p><strong>Status:</strong> {{ selectedmoderator.etat }}</p>
    </div>
    <button class="fa fa-trash" (click)="deleteModerator()"></button> 
    <button class="fa fa-pencil"  routerLink="/modify-moderator"  ></button> 
    <button  (click)="closeDetails()">close</button>
    Bouton pour fermer le popup -->
  <!-- </div> -->
 
  <!-- <div class="popup-overlay" *ngIf="isEditPopupVisible">
    <div class="edit-popup">
      <h2>Modifier le modérateur</h2>
      <form>

        <button type="button" (click)="cancelEdit()">Annuler</button>
        <button type="submit">Enregistrer</button>
      </form>
    </div>
  </div>
</div> -->
<div class="popup-container" *ngIf="showDeletePopup" (click)="closePopupDelete($event)">
  <div class="popup">
    <h2>Delete Moderator</h2>
    <p>Are you sure you want to delete this Moderator?</p>
    <div class="button-container">
      <button type="button" class="btn btn-primary" (click)="deleteModerator(showDeletePopup)">Yes, Delete</button>
      <button type="button" class="btn btn-secondary ms-3" (click)="cancelDelete()">Cancel</button>
    </div>
  </div>
</div>

