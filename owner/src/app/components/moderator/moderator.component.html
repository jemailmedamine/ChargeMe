<!-- owner-list.component.html -->

<h1>Moderator</h1>

<!-- Votre formulaire de recherche et de filtrage ici -->
<div class="from-outline mt-3">
  <form>
    <input class="form-control" [(ngModel)]="login" list="datalistOptions" id="exampleDataList" name="exampleDataList" placeholder="Type to search..."
    style="width: 300px;height: 35px;border-radius: 50px;">
   
    <button type="button" (click)="filrage()"  class="btn btn-outline" style="height: 35px; border-radius: 50px;background-color: rgba(65.66, 187.93, 35.10, 0.50);">
      <i class="fa fa-filter" aria-hidden="true"></i> filter
    </button>
    <!-- <button type="button" class="btn btn-outline-create" routerLink="/create" style="border-radius: 50px;height: 35px;">
      <i class="fa fa-plus" aria-hidden="true"></i>create
    </button> -->
  </form>
</div>

<div class="table">
  <table class="table table-striped table-hover">
    <!-- En-tÃªtes du tableau -->
    <thead>
      <tr>
        <th scope="col">First name</th>
        <th scope="col">Last name</th>
        <th scope="col">Phone number</th>
        <th scope="col">Login</th>

        <th scope="col">station</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <!-- Corps du tableau -->
    <tbody>
      <tr *ngFor="let mod of allmoderateur.moderateurs" >
        <td>{{  mod.firstname }}</td>
        <td>{{ mod.lastname}}</td>
        <td>{{ mod.phone}}</td>
        <td>{{ mod.login }}</td>
       <td>{{ mod.stationName}}</td>
       <td class="d-flex align-items-center">
        <!-- <button class="fa fa-trash"  aria-hidden="true" style="padding: 5px; color: grey; border: none; background-color: transparent;" (click)="showDeletePopup()"></button> -->
        <div class="form-check form-switch ms-3 mb-0">
          <input class="form-check-input" type="checkbox" id="activeSwitch{{mod.id}}" [checked]="mod.etat== 'actif'" (click)="toggleActive(mod)">
          <label class="form-check-label mb-0" for="activeSwitch{{mod.id}}">{{ mod.etat=='actif' ? 'Active' : 'Inactive' }}</label>
        </div>
      </td>      
      </tr>
    </tbody>
  </table>
  </div>
  <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-end" >
      <li class="page-item ">
       <!--<a class="page-link">Previous</a>-->
       <button class="page-link" (click)="Previous()">Previous</button>
      </li >
      <!--<li class="page-item"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link" href="#">2</a></li>
      <li class="page-item"><a class="page-link" href="#">3</a></li>-->
      <li class="page-item">
        <!--<a class="page-link" href="#">Next</a>-->
        <button class="page-link" (click)="next()">Next</button>
      </li>
    </ul>
  </nav>
  <div>
    <div class="popup-container" *ngIf="DeletePopup">
      <div class="popup">
        <h2>Delete Moderator</h2>
        <p>Are you sure you want to delete this Moderator?</p>
        <button type="button" class="btn btn-primary" (click)="showDeleteSuccessPopup()">Yes, Delete</button>
        <button type="button" class="btn btn-secondary ms-3" (click)="cancelDelete()">Cancel</button>
      </div>
    </div>
    <div class="popup-container" *ngIf="DeleteSuccessPopup">
      <div class="popup">
        <h2>Moderator Deleted!</h2>
        <button type="button" class="btn btn-primary" (click)="cancelDelete()">Dismiss</button>
      </div>
    </div>  
  </div>